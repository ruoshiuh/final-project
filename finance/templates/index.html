{% extends "layout.html" %}

{% block title %}
    Index
{% endblock %}

{% block main %}
<div class="section">
    <h2>User profolio</h2>
    <h4>User ID: {{ user_id }}</h4>

    <table>
        <thead>
            <tr>
                <th>Symbol</th>
                <th>Shares</th>
                <th>Current Price</th>
                <th>Total values</th>
            </tr>
        </thead>
        <tbody>
            {% for row in data %}
                <tr>
                    <td>{{ row["symbol"] }}</td>
                    <td>{{ row["shares"] }}</td>
                    <td>{{ current_price[row["symbol"]] }}</td>
                    <td>{{ symbol_value[row["symbol"]] }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<div class="section">
    <h4>Assets</h4>

    <table>
        <thead>
            <tr>
                <th>Cash balance</th>
                <th>Grand total</th>
                <th>Deposit money</th>
            </tr>
        </thead>
        <tbody>
                <tr>
                    <td>{{ cash_balance }}</td>
                    <td>{{ grand_total }}</td>
                    <td>
                        <form method="post">
                            <div class="mb-3">
                                <input autocomplete="off" class="form-control mx-auto w-auto" name="amount" placeholder="Amount" type="number" step="0.01"></input>
                            </div>
                            <button class="btn btn-primary" type="submit">Deposit</button>
                        </form>
                    </td>
                </tr>
        </tbody>
    </table>
</div>
{% endblock %}
